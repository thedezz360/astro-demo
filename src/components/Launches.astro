---
import type { APISpaceZresponse } from "../types/api";
import CardLauch from "./CardLauch.astro";

const res = await fetch("https://api.spacexdata.com/v5/launches/query", {
	method : "POST",
	headers: {
		"Content-Type": "aplication/json"
	},
	body: JSON.stringify({ 
		query:{},
		options: {
			sort: {
				date_unix: "asc"
			},
			limit:12
		}
	})
})
const {docs} = await res.json() as APISpaceZresponse

console.log(docs)

---

<div class="grid gap-8 sm:grid-cols-2 lg:grid-cols-3">
	{
		docs.map(launch => (
			<CardLauch 
				id={launch.id} 
				img={launch.links.patch.small}
				success={launch.success}
				flightNumber={launch.flight_number}
				details={launch.details}
			/>
				
			
		))
	}
</div>